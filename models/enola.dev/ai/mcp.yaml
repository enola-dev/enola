# SPDX-License-Identifier: Apache-2.0
#
# Copyright 2025 The Enola <https://enola.dev> Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# TODO Actually generate (!write) and publish a JSON Schema for McpServerConnectionConfig
$schema: https://enola.dev/ai/mcp/server/connections

servers:
  modelcontextprotocol/git:
    command: uvx
    args: [mcp-server-git]
    docs: https://github.com/modelcontextprotocol/servers/tree/main/src/git

  modelcontextprotocol/fetch:
    # CAUTION: This server can access local/internal IP addresses and may represent a security risk.
    # Exercise caution when using this MCP server to ensure this does not expose any sensitive data!
    command: uvx
    args: [mcp-server-fetch]
    docs: https://github.com/modelcontextprotocol/servers/tree/main/src/fetch

  modelcontextprotocol/memory:
    command: npx
    args: [-y, "@modelcontextprotocol/server-memory"]
    docs: https://github.com/modelcontextprotocol/servers/tree/main/src/memory
    log: debug
    env:
      # TODO Support ~ and $HOME expansion
      MEMORY_FILE_PATH: /home/vorburger/memory.json

  modelcontextprotocol/everything:
    command: npx
    args: [-y, "@modelcontextprotocol/server-everything"]
    docs: https://github.com/modelcontextprotocol/servers/tree/main/src/everything

  search_brave:
    command: docker
    args: ["run", "-i", "--rm", "-e", "BRAVE_API_KEY", "docker.io/mcp/brave-search"]
    docs: https://github.com/brave/brave-search-mcp-server
    env:
      BRAVE_API_KEY: ${secret:BRAVE_API_KEY}
